package douyin

import (
	"context"
	"fmt"
	"testing"
)

func TestClient_GetCommodityMetadata(t *testing.T) {

	//https://v.douyin.com/rnCe4uibLJA/
	c := NewClient()

	//url := "https://haohuo.jinritemai.com/ecommerce/trade/detail/index.html?id=3765161747187630387&alkey=1128_772323224068356_7530336697804934436_3765161747187630387_010&c_biz_combo=1-8&origin_type=3002001000&x_share_compress_url_params=1,0,meta_params&with_sec_did=1&origin_id=7530336697804934436_3765161747187630387&h5_origin_type=detail_share_v2&use_link_command=1&from_link=1&goods_detail=%257B%2522title%2522%253A%2522%25E3%2580%2590%25E5%2591%25B5%25E6%258A%25A4%25E5%258F%25A3%25E8%2585%2594%25E3%2580%2591%25E7%259B%258A%25E7%2594%259F%25E8%258F%258C%25E8%2588%258C%25E8%258B%2594%25E5%2595%25AB%25E5%2596%25B1%25E8%2588%258C%25E8%258B%2594%25E5%2588%25B7%25E6%25B8%25A9%25E5%2592%258C%25E6%25B8%2585%25E6%25B4%2581%25E5%258F%25A3%25E8%2585%2594%25E6%25B8%2585%25E6%25B4%2597%25E5%2599%25A8%25E7%2594%25B7%25E5%25A5%25B3%25E9%2580%259A%25E7%2594%25A8%25E6%25AD%25A3%25E5%2593%2581%2522%252C%2522sales%2522%253A92%252C%2522img%2522%253A%257B%2522uri%2522%253A%2522ecom-shop-material%252Fjpeg_m_ad812a8b46d948b50c63c57d9453b864_sx_454023_www800-800%2522%252C%2522url_list%2522%253A%255B%2522https%253A%252F%252Fp26-item.ecombdimg.com%252Fimg%252Fecom-shop-material%252Fjpeg_m_ad812a8b46d948b50c63c57d9453b864_sx_454023_www800-800~tplv-5mmsx3fupr-image.png%2522%252C%2522https%253A%252F%252Fp3-item.ecombdimg.com%252Fimg%252Fecom-shop-material%252Fjpeg_m_ad812a8b46d948b50c63c57d9453b864_sx_454023_www800-800~tplv-5mmsx3fupr-image.png%2522%255D%252C%2522width%2522%253A100%252C%2522height%2522%253A100%257D%252C%2522min_price%2522%253A6990%252C%2522max_price%2522%253A7990%257D&u_code=7f1f287l6ak&did=MS4wLjACAAAAZjKx8tu8KNbPOQ57oV0m-2ETWOv8g5fi813kR5LLg8_87ddxwNymQCm_TUQ1yM9d&sec_author_id=MS4wLjABAAAA4uvOsTVxU4ANLKUK-3NY0-OCZfchGeA6wVwNTAw8w-E&entrance_info=%257B%257D&buyin_track=COgIEITCsJvIza8BGgwIpJqBvsSqyMBoEAEiACizgoj4kNWioDQwAjjylKnDgzM&detail_schema=sslocal%253A%252F%252Fec_goods_detail%253Fbcm%253D%257B%2522bcm_share_id%2522%253A%252279F5B6E2-B831-4801-870D-F77C14C108CE%2522%257D%2526campaign_type%253D0%2526ec_s%253D12d53cd467a012fd01ad220dd77753122579e44e95f50f_HMZoCojDcMgtbRPbmR8sPE79k8i5JtH7J5quebbBVPM%25253D%2526enter_from%253Dcopy%2526is_from_seckill_channel%253D0%2526item_id%253D7530336697804934436%2526kol_id%253D772323224068356%2526meta_params%253DH4sIAAAAAAAA%252F4RV22rcRhh%252BF121dN3MrLQ6LOTCdhKDazduStrYWTOMpX%252B1E0saeWZk79YIEmhCWgpNIRAKveghoYeLQiGQkIs8TXzIWxSNjtl12r0Q0n8%252BfN%252B%252FxwaTRCoqCFURlcZwTCMJvUJKA6IEHY%252BZbwyVyKBn%252BAKoYodAWGAMDeyarouQaZnYdSzbNnpGwAT4KpqRseAxOWQBcKJoaAxxz4ip2AdFaBAIkNIYGscjo%252FogASjKopExHBnHo1Erj5hUxffwthbvsa%252BIzwPQouIxZZQHjCYfyywFUWVIeVroep1A2kGHYEHj7Az6ntO3sI2Qa1kY2fZg3o%252BoWVpmM7UYpkrQNphUgioIZ03IiCqQikiIwFcQkE76PM9385GRGz0DEiVo4gNhyZhXg0j8CRfVHLS8HUZTQ%252FG4PSp%252FRirYIYsghGLAtbBXv%252Fg8jnnSVe02vQXcXwznnDz98%252FTJz2ePHpw9%252Fuft3bvnz39fCPr216%252FP%252F%252F7FPf3p4eD0ybMPTn74482r7z58e%252Ffe%252BevX76TJCydDTqgAkgo4ZDyTJKUh6KYmPIbig0y40oZjwSAJJAGfx7rkwqoMobiAcgmNTFuFgmdpq9BI01qfCsFAEMkz4b8nX0ynRO5nJBVMm9ieh3qjAvIR3YOIyAk%252F0p5Im6eCx1wxnhAWaLHp2ANsY8dysOvYJjJdRxuyqoWqmiHuFUCqq8RNP3PFt12lTNEZJXckT4hUooWABHEIotZreNQbPK4nD%252FEeBAFLmo0P65cEF4QYXfLNG9NwZ20LrLXrcOvTo3h7IoNbO7N4%252B6O1%252Fe0dLzbXbbDX1qk5RaF5sBVu37CYCWvslsI71mQKa%252FEKOzhYp9uK7w%252ByjSC8fHkBJBXpS8yWdeC8wZ4EKvwJeceo7MOnQlWTa0nYtnpcC1r%252BVven75kDZJlOv%252FFLeEL8iEsISMTLYzBEea9kDQ8yXxG%252F4C0XDGTnvNTKTo6LVl2nqWLMCAuqKMWzj9DAbmz6GHttYX0Hmdp%252FN9%252FtllO5X5BsN%252B%252FwoMR0SyStokcQNxQpYOxzqeahnXIp2V4EGtpE8ZhGEVF0T4fBiyliUBMetElillzEGA1a6UMCNTUwQv2Sh7Vg7k%252BiBTvzeVKVvJi1BIjGhD4ItVMplzROI5g7kx19AyykpzzW6%252B4surPgd9eV0LhF5JuXf7159er026dnjx7oq1buLPqvaPWC%252FzfaKEPIhObl5Pvfzu8%252Ffp%252F27JsfTx6%252BuFQZvbx%252F%252BvzeyYtnJ%252FdflGVVGIEoYklIUtUOplJozqVU0FiW8yo9BNBofqXl0a6W53jXBiv21f7SimviJctFeMl10JWla46ziq1VjNzVq2Tzc%252Bto487yyvLy8vLmzmxLXYdPltY3p%252FFUfbaerR6RMPli%252FeamWNr%252FcnzzysaWNVGzdGObCDjIij9LfZpLDJaHsU4%252BMJFp2rbnuMjyTMsyO%252BBZPJF3sjgtIE2ac1%252BAvLw%252FF3CtIjd2rEHfMz3bdRF2PVySU%252BdRNOzCqUjUuVFGbuT%252FBgAA%252F%252F%252BpsV5oPAkAAA%253D%253D%2526product_id%253D3765161747187630387%2526promotion_id%253D3765161747187630387%2526promotion_id%253D3765161747187630387%2526request_additions%253D%257B%2522marketing_channel%2522%253A%2522%2522%252C%2522ecom_scene_id%2522%253A%25221002%2522%252C%2522from_internal_feed%2522%253A%2522false%2522%252C%2522cps_track%2522%253A%2522%2522%257D%2526request_page%253D1%2526source_page%253Dcopy%2526x_share_compress_url_params%253D1%252C0%252Cmeta_params%2526request_page%253D1%2526ecom_share_track_params%253D%25257B%252522enter_from%252522%25253A%252522homepage_hot%252522%25252C%252522is_ec_shopping%252522%25253A%2525221%252522%25252C%252522share_id%252522%25253A%25252279F5B6E2-B831-4801-870D-F77C14C108CE_MS4wLjABAAAAMZyPtOeK-JMxmxtQJuCw_gnVJUMr-kWfUDLP4htypLY_request_page_1%252522%25252C%252522secuid%252522%25253A%252522MS4wLjABAAAAMZyPtOeK-JMxmxtQJuCw_gnVJUMr-kWfUDLP4htypLY%252522%25252C%252522ngroup_buy_token%252522%25253A%252522%252522%25257D&ecom_share_track_params=%7B%22enter_from%22:%22homepage_hot%22,%22is_ec_shopping%22:%221%22,%22share_id%22:%2279F5B6E2-B831-4801-870D-F77C14C108CE_MS4wLjABAAAAMZyPtOeK-JMxmxtQJuCw_gnVJUMr-kWfUDLP4htypLY_request_page_1%22,%22secuid%22:%22MS4wLjABAAAAMZyPtOeK-JMxmxtQJuCw_gnVJUMr-kWfUDLP4htypLY%22,%22ngroup_buy_token%22:%22%22%7D&utm_campaign=client_share&app=aweme&utm_medium=ios&tt_from=copy&utm_source=copy"
	url := "https://v.douyin.com/rnCe4uibLJA"

	metadata, err := c.GetCommodityMetadata(context.Background(), url)

	fmt.Println(metadata, err)

	if err != nil {

		return
	}

}
